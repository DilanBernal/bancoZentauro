<div class="login-container">
  <button (click)="Home()" class="btnVerde btn">Volver</button>

  <div class="logo">
    <img src="logo.png" alt="logo de banco centauro" />
  </div>

  <h2>Iniciar Sesión</h2>

  <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        #emailInput="ngModel"
        autocomplete="email"
        required
        email
        class="form-control"
        [placeholder]="placeholderEmail"
        />
      @if (emailInput.invalid && emailInput.touched) {
        <div class="error">
          @if (emailInput.errors?.['required']) {
            <small>El correo es obligatorio</small>
          }
          @if (emailInput.errors?.['email']) {
            <small>Ingrese un correo electrónico válido</small>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="password">Contraseña</label>
      <input
        type="password"
        id="password"
        name="password"
        [(ngModel)]="password"
        #passwordInput="ngModel"
        required
        minlength="8"
        class="form-control"
        [placeholder]="placeholderPassword"
        />
      @if (passwordInput.invalid && passwordInput.touched) {
        <div class="error">
          @if (passwordInput.errors?.['required']) {
            <small>La contraseña es obligatoria</small>
          }
          @if (passwordInput.errors?.['minlength']) {
            <small>La contraseña debe tener al menos 8 caracteres</small>
          }
        </div>
      }
    </div>

    <div class="parametros form-check">
      <div class="checkbox-group">
        <input
          class="form-check-input"
          type="checkbox"
          name="Recordarme"
          [(ngModel)]="recuerdame"
          id="Recordarme"
          />
        <label for="Recordarme">Recordarme</label>
      </div>

      <div class="checkbox-group">
        <input
          class="form-check-input"
          type="checkbox"
          [(ngModel)]="captcha"
          name="captcha"
          id="Capcha"
          required
          />
        <label for="Capcha">No soy un robot</label>
      </div>

      <div class="links">
        <a (click)="Backup()">¿Olvidaste tu contraseña?</a>
        <a (click)="Signin()">Crear cuenta</a>
      </div>
    </div>

    <button
      type="submit"
      [disabled]="loginForm.invalid || isLoading"
      class="btn btnSubmit"
      >
      {{ isLoading ? 'Iniciando sesión...' : 'Iniciar sesión' }}
    </button>

    @if (errorMessage) {
      <div class="alert alert-danger">
        {{ errorMessage }}
      </div>
    }
  </form>
</div>

<complete></complete>
<loader></loader>